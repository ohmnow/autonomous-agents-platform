# =============================================================================
# Autonomous Agents Platform - Environment Variables
# =============================================================================
# Copy this file to .env and fill in your values.
# Never commit .env to version control!
# =============================================================================

# -----------------------------------------------------------------------------
# Anthropic API - Choose ONE authentication method
# -----------------------------------------------------------------------------
#
# Option 1: OAuth Token (uses your Claude Pro/Max subscription)
# Generate a long-lived token by running: claude setup-token
# This uses your subscription's included usage instead of pay-as-you-go API credits
# You can use either variable name (both are supported):
ANTHROPIC_AUTH_TOKEN=
# CLAUDE_CODE_OAUTH_TOKEN=
#
# Option 2: API Key (pay-as-you-go)
# Get your API key from: https://console.anthropic.com/
# ANTHROPIC_API_KEY=sk-ant-your-api-key-here

# -----------------------------------------------------------------------------
# E2B Sandbox Provider
# -----------------------------------------------------------------------------
# Get your API key from: https://e2b.dev/
E2B_API_KEY=e2b_your-api-key-here

# -----------------------------------------------------------------------------
# Database
# -----------------------------------------------------------------------------
# PostgreSQL connection string
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
DATABASE_URL=postgresql://postgres:password@localhost:5432/autonomous_agents

# -----------------------------------------------------------------------------
# Clerk Authentication
# -----------------------------------------------------------------------------
# Get your keys from: https://dashboard.clerk.com/
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_your-key-here
CLERK_SECRET_KEY=sk_test_your-key-here

# Clerk redirect URLs (customize for your domain)
NEXT_PUBLIC_CLERK_SIGN_IN_URL=/sign-in
NEXT_PUBLIC_CLERK_SIGN_UP_URL=/sign-up
NEXT_PUBLIC_CLERK_AFTER_SIGN_IN_URL=/dashboard
NEXT_PUBLIC_CLERK_AFTER_SIGN_UP_URL=/dashboard

# -----------------------------------------------------------------------------
# Storage (S3-compatible - MinIO for local, S3/R2 for production)
# -----------------------------------------------------------------------------
# MinIO local development (default Docker Compose setup)
S3_ENDPOINT=http://localhost:9000
S3_ACCESS_KEY_ID=minioadmin
S3_SECRET_ACCESS_KEY=minioadmin123
S3_BUCKET_NAME=build-artifacts
S3_REGION=us-east-1

# For AWS S3 production:
# S3_ENDPOINT=                              # Leave empty for AWS S3
# S3_ACCESS_KEY_ID=your-aws-access-key
# S3_SECRET_ACCESS_KEY=your-aws-secret-key
# S3_BUCKET_NAME=your-bucket-name
# S3_REGION=us-east-1

# For Cloudflare R2 production:
# S3_ENDPOINT=https://<account-id>.r2.cloudflarestorage.com
# S3_ACCESS_KEY_ID=your-r2-access-key
# S3_SECRET_ACCESS_KEY=your-r2-secret-key
# S3_BUCKET_NAME=your-bucket-name
# S3_REGION=auto

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
# Base URL for the application
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Node environment
NODE_ENV=development

# -----------------------------------------------------------------------------
# Rate Limiting (Optional - defaults shown)
# -----------------------------------------------------------------------------
# RATE_LIMIT_API_WINDOW_MS=60000        # 1 minute
# RATE_LIMIT_API_MAX_REQUESTS=100        # 100 requests per minute
# RATE_LIMIT_BUILDS_WINDOW_MS=3600000    # 1 hour
# RATE_LIMIT_BUILDS_MAX_REQUESTS=10      # 10 builds per hour
# MAX_CONCURRENT_BUILDS=5                # Max concurrent builds per user

# -----------------------------------------------------------------------------
# Validation Limits (defaults shown)
# -----------------------------------------------------------------------------
# MAX_SPEC_SIZE_KB=1024                  # Max spec size in KB (default: 1MB)
#                                        # A detailed 2,000-line spec is ~150-200KB
# MAX_NAME_LENGTH=200                    # Max name length for specs/projects
# CLAUDE_MAX_TOKENS=32768                # Max tokens for AI response (default: 32K)
#                                        # Allows ~1,600 lines of spec content
